{% extends 'base.html' %}
{% block title %} {{ user.username }}'s chats {% endblock title %}
{% block content %}
<p>
    Enter chat room name
</p>
<div>
    <input id="room-name-input" type="text" size="100">
</div>
<div>
    <input id="room-name-submit" type="button" value="Enter">
</div>
{% endblock content %}
{% block script %}
<script>
    document.querySelector('#room-name-input').focus();
    document.querySelector('#room-name-input').onkeyup = (e) => {
        if (e.key == 'Enter') {
            document.querySelector("#room-name-submit").click();
        }
    };

    document.querySelector('#room-name-submit').onclick = (e) => {
        var roomName = document.querySelector("#room-name-input").value;
        window.location.pathname = `/chat/${roomName}/`;
    }; // TODO replace by call of room_view view, this is not verey Django
</script>
{% endblock script %}